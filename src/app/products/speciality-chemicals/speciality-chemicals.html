<!-- <div class="hero-section1">
    <div id="heroCarousel" class="carousel slide carousel-fade" data-bs-ride="carousel" data-bs-interval="4000"
        data-bs-pause="false">
        <div class="carousel-indicators">
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="0" class="active" aria-current="true"
                aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="1" aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#heroCarousel" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>

        <div class="carousel-inner">
            <div class="carousel-item active">
                <img src="https://images.unsplash.com/photo-1559827260-dc66d52bef19?w=1920&h=800&fit=crop"
                    class="d-block w-100" alt="Water Conservation">
                <div class="carousel-overlay"></div>
                <div class="carousel-caption">
                    <div class="container">
                        <h1 class="hero-title">
                            Specialty Chemicals
                        </h1>
                        <p class="hero-description">
                            Our world is facing a water crisis. Climate change disrupts rainfall patterns,
                            intensifies droughts and
                            floods, and threatens water security. Here at Zymetree, we believe in a future where
                            clean water is
                            accessible to all.
                        </p>
                    </div>
                </div>
            </div>

            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1581092918056-0c4c3acd3789?w=1920&h=800&fit=crop"
                    class="d-block w-100" alt="Clean Water Technology">
                <div class="carousel-overlay"></div>
                <div class="carousel-caption">
                    <div class="container">
                        <h1 class="hero-title">
                            Innovative Solutions
                        </h1>
                        <p class="hero-description">
                            Advanced chemical solutions for water treatment and purification. Our cutting-edge
                            technology ensures
                            sustainable and efficient water management for industries worldwide.
                        </p>
                    </div>
                </div>
            </div>

            <div class="carousel-item">
                <img src="https://images.unsplash.com/photo-1532996122724-e3c354a0b15b?w=1920&h=800&fit=crop"
                    class="d-block w-100" alt="Sustainable Future">
                <div class="carousel-overlay"></div>
                <div class="carousel-caption">
                    <div class="container">
                        <h1 class="hero-title">
                            Sustainable Future
                        </h1>
                        <p class="hero-description">
                            Committed to environmental stewardship and sustainable practices. We're building a
                            future where
                            clean water and environmental protection go hand in hand.
                        </p>
                    </div>
                </div>
            </div>
        </div>

        <button class="carousel-control-prev" type="button" data-bs-target="#heroCarousel" data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#heroCarousel" data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
        </button>
    </div>
</div> -->

<div class="row">
    <div class="col-12">
        <video #bgVideo muted loop playsinline preload="auto" class="bg-video w-100">
            <source src="assets/videos/speciality chemicals website carousel.webm" type="video/webm" />
        </video>
    </div>
</div>

<div class="water-treatment-container">
    <div class="container py-5">
        <!-- Header Section -->
        <div class="text-center mb-5">
            <div class="icon-circle mx-auto mb-3">
                <i class="bi bi-droplet-fill text-white"></i>
            </div>
            <h1 class="display-4 fw-bold mb-4">OUR WATER TREATMENT CHEMICALS</h1>
            <div class="title-divider mx-auto mb-4"></div>
        </div>

        <!-- Treatment Cards -->
        <div class="row g-4 mb-5">
            <div class="col-12 col-md-6 col-lg-4" *ngFor="let treatment of treatments">
                <div class="card treatment-card h-100">
                    <div class="card-body p-4">
                        <div class="icon-box bg-{{treatment.color}} mb-4">
                            <i class="{{treatment.icon}} text-white"></i>
                        </div>
                        <h5 class="card-title fw-bold mb-3" style="color: white;">{{treatment.title}}</h5>
                        <p class="card-text text-muted" style="color: white;">{{treatment.description}}</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Main Products Section -->
<div class="container my-5">
    <h2 class="text-center mb-4 fw-bold">Our Water Treatment Solutions</h2>

    <div class="row g-4 mb-5">
        <div class="col-md-6 col-lg-4" *ngFor="let product of mainProducts">
            <div class="product-card" [style.border-left-color]="product.color" (click)="openProductModal(product)"
                role="button">
                <div class="product-icon" [style.background-color]="product.color">
                    <i [class]="'bi ' + product.icon"></i>
                </div>
                <h5 class="product-title">Zymetreat {{ product.name }}</h5>
                <p class="product-subtitle text-muted">{{ product.fullName }}</p>
                <p class="product-description">{{ product.description }}</p>
                <span class="view-details">
                    View Details <i class="bi bi-arrow-right ms-1"></i>
                </span>
            </div>
        </div>
    </div>
</div>

<!-- Categories Section -->
<div class="categories-section">
    <div class="container">
        <h2 class="text-center mb-5 fw-bold text-white">Explore Our Product Categories</h2>

        <div class="row g-4">
            <div class="col-lg-4" *ngFor="let category of categories">
                <div class="category-card" (click)="openCategoryModal(category)" role="button">
                    <div class="category-header">
                        <i class="bi bi-water category-icon"></i>
                        <h4>{{ category.title }}</h4>
                    </div>
                    <h5 class="category-subtitle">{{ category.subtitle }}</h5>
                    <p class="category-description">{{ category.description }}</p>
                    <div class="category-footer">
                        <span class="product-count">
                            <i class="bi bi-box-seam me-2"></i>{{ category.products.length }} Products
                        </span>
                        <span class="view-more">
                            View All <i class="bi bi-chevron-right ms-1"></i>
                        </span>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Category Modal -->
<div class="modal fade" [class.show]="selectedCategory" [style.display]="selectedCategory ? 'block' : 'none'"
    tabindex="-1" *ngIf="selectedCategory">
    <div class="modal-dialog modal-xl modal-dialog-centered modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header">
                <div>
                    <h4 class="modal-title">
                        <i class="bi bi-water me-2"></i>{{ selectedCategory.title }}
                    </h4>
                    <p class="text-muted mb-0">{{ selectedCategory.subtitle }}</p>
                </div>
                <button type="button" class="btn-close" (click)="closeCategoryModal()"></button>
            </div>
            <div class="modal-body">
                <p class="lead mb-4">{{ selectedCategory.description }}</p>

                <!-- Benefits -->
                <div class="benefits-section mb-4" *ngIf="selectedCategory.benefits">
                    <h5 class="mb-3"><i class="bi bi-check-circle-fill me-2"></i>Key Benefits</h5>
                    <div class="row">
                        <div class="col-md-6" *ngFor="let benefit of selectedCategory.benefits">
                            <div class="benefit-item">
                                <i class="bi bi-check2 text-success me-2"></i>{{ benefit }}
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Products Grid -->
                <h5 class="mb-3"><i class="bi bi-box-seam me-2"></i>Available Products</h5>
                <div class="row g-3">
                    <div class="col-md-6 col-lg-4" *ngFor="let product of selectedCategory.products">
                        <div class="modal-product-card" [style.border-left-color]="product.color"
                            (click)="openProductModal(product)" role="button">
                            <div class="modal-product-icon" [style.background-color]="product.color">
                                <i [class]="'bi ' + product.icon"></i>
                            </div>
                            <h6 class="mb-1">Zymetreat {{ product.name }}</h6>
                            <p class="small text-muted mb-2">{{ product.fullName }}</p>
                            <p class="small mb-0">{{ product.description }}</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closeCategoryModal()">Close</button>
                <!-- <button type="button" class="btn btn-success">
                    <i class="bi bi-envelope me-2"></i>Request Quote
                </button> -->
            </div>
        </div>
    </div>
</div>
<div class="modal-backdrop fade" [class.show]="selectedCategory" *ngIf="selectedCategory"
    (click)="closeCategoryModal()"></div>

<!-- Product Modal -->
<div class="modal fade" [class.show]="selectedProduct" [style.display]="selectedProduct ? 'block' : 'none'"
    tabindex="-1" *ngIf="selectedProduct">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content">
            <div class="modal-header" [style.background-color]="selectedProduct.color">
                <h4 class="modal-title text-white">
                    <i [class]="'bi ' + selectedProduct.icon + ' me-2'"></i>
                    Zymetreat {{ selectedProduct.name }}
                </h4>
                <button type="button" class="btn-close btn-close-white" (click)="closeProductModal()"></button>
            </div>
            <div class="modal-body">
                <div class="text-center mb-4">
                    <div class="product-image-container">
                        <img [src]="selectedProduct.image" [alt]="selectedProduct.fullName" class="product-image"
                            (error)="onImageError($event)">
                    </div>
                </div>
                <h5 class="mb-2">{{ selectedProduct.fullName }}</h5>
                <p class="lead">{{ selectedProduct.description }}</p>

                <div class="product-details">
                    <h6 class="mb-3">Product Features</h6>
                    <ul class="list-unstyled">
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>High-performance formulation</li>
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>Engineered for industrial
                            applications</li>
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>Safe and sustainable solution</li>
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>Extends equipment lifespan</li>
                        <li><i class="bi bi-check-circle-fill text-success me-2"></i>Reduces operational costs</li>
                    </ul>
                </div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" (click)="closeProductModal()">Close</button>
                <!-- <button type="button" class="btn btn-success">
                    <i class="bi bi-cart-plus me-2"></i>Request Sample
                </button> -->
            </div>
        </div>
    </div>
</div>
<div class="modal-backdrop fade" [class.show]="selectedProduct" *ngIf="selectedProduct" (click)="closeProductModal()">
</div>


<div class="showcase-wrapper">
    <h1 class="showcase-header">Products Gallery</h1>

    <div class="grid-container">
        <div class="grid-item" *ngFor="let chemItem of chemicalInventory; let idx = index">
            <div class="product-tile" (click)="openLightboxViewer(idx)">
                <img [src]="chemItem.imageUrl" [alt]="chemItem.productTitle" class="tile-thumbnail" />
                <div class="tile-details">
                    <p class="tile-label">{{ chemItem.productTitle }}</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="lightbox-overlay" [class.overlay-active]="isLightboxVisible" (click)="closeLightboxViewer()">
    <button class="dismiss-button" (click)="closeLightboxViewer()">&times;</button>

    <button class="navigation-control prev-control" (click)="navigateToAdjacentItem(-1); $event.stopPropagation()">
        &#10094;
    </button>

    <div class="lightbox-content-wrapper" (click)="preventEventBubbling($event)">
        <img [src]="getCurrentDisplayedProduct().imageUrl" [alt]="getCurrentDisplayedProduct().productTitle"
            class="enlarged-visual" />
        <div class="visual-description">
            {{ getCurrentDisplayedProduct().productTitle }}
        </div>
    </div>

    <button class="navigation-control next-control" (click)="navigateToAdjacentItem(1); $event.stopPropagation()">
        &#10095;
    </button>
</div>